# BNB Liquid Staking API

To integrate with BNB Liquid Staking, use the smart contract functions and examples below.

### Stake BNB and claim ankrBNB

#### `stakeCerts(payableAmount)`
 
Stakes BNB and claims ankrBNB.

##### Parameters

`payableAmount` (BNB, required) — amount of BNB to be staked.

##### Smart contract

* [Mainnet BNBStakingPool Proxy](https://bscscan.com/address/0x9e347af362059bf2e55839002c699f7a5bafe86e#writeProxyContract#F20) (0x9e347af362059bf2e55839002c699f7a5bafe86e)
* [Testnet BNBStakingPool Proxy](https://testnet.bscscan.com/address/0x0ecf14f54c5ff190e025bc5e80c6351f91bfcb1c#writeProxyContract#F20) (0x0ecf14f54c5ff190e025bc5e80c6351f91bfcb1c)

##### Example

* [Mainnet live transaction example](https://bscscan.com/tx/0xcb6df60cf08b2700743f23a747cd692b60d9dfe5d422529451ace43be9365761)
* [Testnet live transaction example](https://testnet.bscscan.com/tx/0x9d805fb1bd571f9771b709cba07a8f3855ba1a2b8f49ded266d2d74173d5501b)

### Unstake ankrBNB and get BNB
Unstaking ankrBNB is a two-step process:
1. Approve access to ankrBNB.
2. Unstake ankrBNB.

#### `approve(spender, amount)`

Approve access for the aBNBb contract to the specified amount of ankrBNB.<br/>
aBNB is a legacy contract used in Ankr's BNB Liquid Staking.

##### Parameters
* `sender` (address, required) — address of aBNBb. Possible values:
  * `0xfe39985D7eFF914c50A06bA0cFfcCA8361e00C0e` for Mainnet
  * `0x93405327644eDF8aD908e41F9a2Ecbb6714769D1` for Testnet.
* `amount` (uint256, required) — amount of ankrBNB to approve access to.

##### Smart contract
* [Mainnet ankrBNB](https://bscscan.com/address/0x52f24a5e03aee338da5fd9df68d2b6fae1178827#writeProxyContract#F1) (0x52f24a5e03aee338da5fd9df68d2b6fae1178827)
* [Testnet ankrBNB](https://testnet.bscscan.com/address/0x3c1039c346bd5141bf2d5e855928e61655658fa7#writeProxyContract#F1)(0x3c1039c346bd5141bf2d5e855928e61655658fa7)

##### Example
* [Mainnet live transaction example](https://bscscan.com/tx/0x378cfea77088d37397ef8f4a66f5452853191169eadf6d8efeff660164374750)
* [Testnet live transaction example](https://testnet.bscscan.com/tx/0xf164130cf49507e0e1e1b6697e2fe966b325938c60d1a1a2e3ddf34e5ab15efc)

#### `unstakeCerts(shares)`

Unstakes ankrBNB and gets BNB for the unstaked ankrBNB.

##### Parameters
`shares` (uint256, required) — amount of ankrBNB to be unstaked.

##### Smart contract
* [Mainnet BNBStakingPool Proxy](https://bscscan.com/address/0x9e347af362059bf2e55839002c699f7a5bafe86e#writeProxyContract#F27) (0x9e347af362059bf2e55839002c699f7a5bafe86e)
* [Testnet BinancePool Proxy](https://testnet.bscscan.com/address/0x0ecf14f54c5ff190e025bc5e80c6351f91bfcb1c#writeProxyContract#F27)(0x0ecf14f54c5ff190e025bc5e80c6351f91bfcb1c)

##### Example
* [Mainnet live transaction example](https://bscscan.com/tx/0x486328afbac4f695827b244e2a794fed5545795d4704db8a31771e332912a6ca)
* [Testnet live transaction example](https://testnet.bscscan.com/tx/0x63b7c5c09ff61461fe70e42c9655fe9a841e13dee59d23aac76cc66bc9197e1e)

### Get APR

#### `averagePercentageRate(uint256 day, address addr)`

Gets the APR for ankrBNB. 

The formula is best expressed by an example. 

With `3` provided as the depth, the APR = `((((day 3 - day 2) / day 3) * 100) + ((day 2 - day 1) / day 2) * 100) + ((day 1 - current day) / day 1) * 100) / 3) * 365`.

##### Parameters

* `day` (uint256, required) — number of days to get the APR for. Max value — 7 days.
* `address` (address, required) — address of the token contract. The address of ankrBNB is `0x52F24a5e03aee338Da5fd9Df68D2b6FAe1178827`.

##### Smart contract

* [Mainnet RatioFeed contract for ankrBNB](https://bscscan.com/address/0xCb0006B31e6b403fEeEC257A8ABeE0817bEd7eBa)

##### Example

`averagePercentageRate` being a read function, we suggest you visit the links and make a query entering a desired number of days to see an example. 
* [Mainnet RatioFeed contract for ankrBNB function](https://bscscan.com/address/0xCb0006B31e6b403fEeEC257A8ABeE0817bEd7eBa#readProxyContract#F1)

### Get staking metrics

To integrate Ankr Staking metrics into your dashboards or use metrics like APY in your products, read [Liquid Staking Metrics](/staking-for-developers/restful-api/staking-metrics/).




