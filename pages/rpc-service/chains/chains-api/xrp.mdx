import { Callout } from "components";
import { Tabs, Tab } from "nextra-theme-docs";

# XRP

> XRP API is available on [Web3 API platform](https://www.ankr.com/rpc/xrp).



In order for your Web3 application to interact with XRP — either by reading blockchain data or sending transactions to the network — it must connect to an XRP node. Developers interact with the blockchain using the methods provided by the API.

The API interaction follows the [JSON-RPC](https://www.jsonrpc.org/specification) which is a stateless, light-weight remote procedure call (RPC) protocol. It defines several data structures and the rules around their processing. It is transport agnostic in that the concepts can be used within the same process, over sockets, over HTTP, or in other message-passing environments. It uses JSON (RFC 4627) as data format.

## Methods supported

**Account Methods**:

An account in the XRP Ledger represents a holder of XRP and a sender of transactions. Use these methods to work with account info.

  * [`account_channels`]() — retrieves a list of payment channels where the account is the source of the channel.
  * [`account_currencies`]() — retrieves a list of currencies an account can send or receive.
  * [`account_info`]() — retrieves basic data on the account.
  * [`account_lines`]() — retrieves info on the account's trust lines.
  * [`account_nfts`]() — retrieves a list of all NFTs for an account.
  * [`account_objects`]() — retrieves all ledger objects owned by an account.
  * [`account_offers`]() — retrieves info on the account's currency exchange offers.
  * [`account_tx`]() — retrieves a list of transactions affecting an account.
  * [`gateway_balances`]() — calculates total amounts issued by an account.
  * [`noripple_check`]() — gets recommended changes to an account's Default Ripple and No Ripple settings.

**Ledger Methods**:

A ledger version contains a header, a transaction tree, and a state tree, which contain account settings, trustlines, balances, transactions, and other data. Use these methods to retrieve ledger info.

  * [`ledger`]() — retrieves info on the ledger.
  * [`ledger_closed`]() — retrieves the latest closed ledger version.
  * [`ledger_current`]() — retrieves the current working ledger version.
  * [`ledger_data`]() — retrieves the raw contents of a ledger version.
  * [`ledger_entry`]() — retrieves a single item from a ledger version.

**Transaction Methods**:

Transactions are the only thing that can modify the shared state of the XRP Ledger. All business on the XRP Ledger takes the form of transactions. Use these methods to work with transactions.

  * [`simulate`]() — executes a dry run of any transaction type to preview results and metadata.
  * [`submit`]() — sends a transaction to the network.
  * [`submit_multisigned`]() — sends a multi-signed transaction to the network.
  * [`transaction_entry`]() — retrieves info on the transaction from a particular ledger version.
  * [`tx`]() — retrieves info on the transaction from all the ledgers at hand.
  * [`tx_history`]() — retrieves info on all recent transactions.

**Path and Order Book Methods**:

Paths define a way for payments to flow through intermediary steps on their way from sender to receiver. Paths enable cross-currency payments by connecting sender and receiver through order books. Use these methods to work with paths and other books.

  * [`amm_info`]() — retrieves info on the Automated Market Maker (AMM) instance.
  * [`book_changes`]() — retrieves information on order book changes.
  * [`book_offers`]() — retrieves info on the currency exchange offers.
  * [`deposit_authorized`]() — checks whether an account is authorized to send money directly to another account.
  * [`get_aggregate_price`]() — calculates the aggregate price of specified Oracle instances.
  * [`nft_buy_offers`]() — retrieves a list of all buy offers for the NFT specified.
  * [`nft_sell_offers`]() — retrieves a list of all sell offers for the NFT specified.
  * [`path_find`]() — finds a path for a payment between two accounts and gets you updated.
  * [`ripple_path_find`]() — finds a path for payment between two accounts, once.

**Payment Channel Methods**:

Payment channels are a tool for facilitating repeated, unidirectional payments, or temporary credit between two parties. Use these methods to work with payment channels.

  * [`channel_authorize`]() — signs a claim for money from a payment channel.
  * [`channel_verify`]() — checks a payment channel claim's signature.

**Subscription Methods**:

Use these methods to enable the server to push updates to your client when various events happen, so that you can know and react right away. WebSocket API only.

  * [`subscribe`]() — listens for updates on a particular subject.
  * [`unsubscribe`]() — stops listening for updates on a particular subject.

**Server Info Methods**:

Use these methods to retrieve information about the current state of the rippled server.

  * [`fee`]() — retrieves information on the transaction cost.
  * [`feature`]() — retrieves information on the protocol amendments.
  * [`manifest`]() — retrieves public information on a known validator.
  * [`server_definitions`]() — retrieves an SDK-compatible `definitions.json`, generated from the `rippled` instance currently running.
  * [`server_info (rippled)`]() — retrieves status of the server in human-readable format.
  * [`server_state`]() — retrieves status of the server in machine-readable format.
  * [`version`]() — retrieves API version information.

**Clio Methods**:

These API methods are provided only by the Clio server, not `rippled`.

  * [`server_info`]() — retrieves status of the Clio server in human-readable format.
  * [`ledger`]() — retrieves info on the ledger version.
  * [`mpt_holders`]() — retrieves the holders of a given MPT issuance for a given ledger.
  * [`ledger_index`]() — retrieves a ledger by its close time.
  * [`nft_history`]() — retrieves the history of ownership and transfers for the specified NFT using Clio server's `nft_history` API.
  * [`nft_info`]() — retrieves information on the specified NFT using Clio server's `nft_info` API.
  * [`nfts_by_issuer`]() — retrieves the history of ownership and transfers for the specified NFT using Clio server's `nft_history` API.
  * [`version`]() — retrieves API version information.

**Utility Methods**:

Use these methods to perform convenient tasks, such as ping and random number generation.

  * [`json`]() — passes JSON through the commandline.
  * [`ping`]() — confirms connectivity with the server.
  * [`random`]() — generates a random number.

---

**Account Methods**:

An account in the XRP Ledger represents a holder of XRP and a sender of transactions. Use these methods to work with account info.

## `account_channels`

> Retrieves a list of payment channels where the account is the source of the channel.

The `account_channels` method returns information about an account's Payment Channels. This includes only channels where the specified account is the channel's source, not the destination. (A channel's "source" and "owner" are the same.) All information retrieved is relative to a particular version of the ledger.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — address???; required): look up channels where this account is the channel’s owner/source.
    * `destination_account` (string — address???; optional): a second account; if provided, filters results to payment channels whose destination is this account.
    * `ledger_hash` (string; optional): the unique hash of the ledger version to use (see Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ledger index of the ledger to use, or a shortcut string to choose a ledger automatically (see Specifying Ledgers???).
    * `limit` (number; optional): limits the number of transactions to retrieve. Must be between 10 and 400; values outside this range are adjusted to the nearest valid value. Default: 200.
    * `marker` (string — marker???; optional): value from a previous paginated response; resumes retrieving data where that response left off.

### Returns

The response follows the standard format???, with a successful result containing the following fields:

  * `account` (string): the address of the source/owner of the payment channels. Corresponds to the `account` field of the request.
  * `channels` (array of objects): list of payment channels owned by this `account`. Each object contains the following fields:
    * `account` (string): the owner of the channel, as an address???.
    * `channel_id` (string): a unique ID for this channel, represented as a 64-character hexadecimal string. This is also the ???ID of the channel object??? in the ledger’s state data.
    * `destination_account` (string): the destination account of the channel, as an address. Only this account can receive the `amount` in the channel while it is open.
    * `settle_delay` (unsigned integer): the number of seconds the payment channel must remain open after the owner requests to close it.
    * `public_key` (string; optional): the public key for the payment channel in the XRP Ledger’s base58??? format. Signed claims against this channel must be redeemed with the matching key pair.
    * `public_key_hex` (string; optional): the public key for the payment channel in hexadecimal format, if one was specified at channel creation. Signed claims against this channel must be redeemed with the matching key pair.
    * `expiration` (unsigned integer; optional): time in ???seconds since the Ripple Epoch??? when this channel is set to expire. This expiration date is mutable. If this value is before the close time of the most recent validated ledger, the channel is expired.
    * `cancel_after` (unsigned integer; optional): time in ???seconds since the Ripple Epoch??? representing this channel’s immutable expiration, if one was specified at creation. If this is before the close time of the most recent validated ledger, the channel is expired.
    * `source_tag` (unsigned integer; optional): a 32-bit unsigned integer used as a ???source tag??? for payments through this payment channel, if specified at creation. This indicates the channel’s originator or purpose. Conventionally, if you bounce payments from this channel, you should include this value in the `DestinationTag` of the return payment.
    * `destination_tag` (unsigned integer; optional): a 32-bit unsigned integer used as a ???destination tag??? for payments through this payment channel, if specified at creation. This indicates the payment channel’s beneficiary or purpose at the destination account.
  * `ledger_hash` (string; optional): the identifying hash??? of the ledger version used to generate this response.
  * `ledger_index` (number): the ledger index??? of the ledger version used to generate this response.
  * `validated` (boolean; optional): if `true`, the information in this response comes from a validated ledger version; otherwise, the information is subject to change.
  * `limit` (number; optional): the limit defining how many channel objects were actually returned by this request.
  * `marker` (string — marker???; optional): server-defined value for pagination; pass this value to the next call to resume fetching results from where this call left off. Omitted when there are no more pages of data.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_channels",
      "params": [
        {
          "account": "rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn",
          "destination_account": "ra5nK24KXen9AHvsdFTKHSANinZseWnPcX",
          "ledger_index": "validated"
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account": "rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn",
        "channels": [
            {
                "account": "rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn",
                "amount": "1000",
                "balance": "0",
                "channel_id": "C7F634794B79DB40E87179A9D1BF05D05797AE7E92DF8E93FD6656E8C4BE3AE7",
                "destination_account": "ra5nK24KXen9AHvsdFTKHSANinZseWnPcX",
                "public_key": "aBR7mdD75Ycs8DRhMgQ4EMUEmBArF8SEh1hfjrT2V9DQTLNbJVqw",
                "public_key_hex": "03CFD18E689434F032A4E84C63E2A3A6472D684EAF4FD52CA67742F3E24BAE81B2",
                "settle_delay": 60
            }
        ],
        "ledger_hash": "42C4F4E81710B015B3BA2A81E357E30E261F58964A6AB6C012734FADB67AB40D",
        "ledger_index": 99672209,
        "status": "success",
        "validated": true
    }
}
```

---

## `account_currencies`

> Retrieves a list of currencies an account can send or receive.

The `account_currencies` command retrieves a list of currencies that an account can send or receive, based on its trust lines. This is not a thoroughly confirmed list, but it can be used to populate user interfaces.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — address???; required): look up currencies this account can send or receive.
    * `ledger_hash` (string; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ledger index of the ledger to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).

### Returns

The response follows the ???standard format???, with a successful result containing the following fields:

  * `ledger_hash` (string — hash???; optional): the identifying hash of the ledger version used to retrieve this data, represented as a hexadecimal string.
  * `ledger_index` (integer): the ???ledger index??? of the ledger version used to retrieve this data.
  * `receive_currencies` (array of strings): list of ???currency codes??? that this account can receive.
  * `send_currencies` (array of strings): list of currency codes that this account can send.
  * `validated` (boolean): if `true`, the data in this response comes from a validated ledger.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_currencies",
      "params": [
        {
            "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
            "account_index": 0,
            "ledger_index": "validated"
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "ledger_hash": "26C97A5C542BB50D6C084EF158AC35AC4D3A94CEA57286F60552A2D55BC2DDCA",
        "ledger_index": 99672360,
        "receive_currencies": [
            "BTC",
            "CNY",
            "DYM",
            "EUR",
            "JOE",
            "MXN",
            "USD",
            "015841551A748AD2C1F76FF6ECB0CCCD00000000"
        ],
        "send_currencies": [
            "ASP",
            "BTC",
            "CHF",
            "CNY",
            "DYM",
            "EUR",
            "JOE",
            "JPY",
            "MXN",
            "USD",
            "5553445400000000000000000000000000000000"
        ],
        "status": "success",
        "validated": true
    }
}
```

---

## `account_info`

> Retrieves basic data on the account.

The `account_info` command retrieves information about an account, its activity, and its XRP balance. All information retrieved is relative to a particular version of the ledger.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — address???; required): the account to look up.
    * `ledger_hash` (string; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ledger index of the ledger to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).
    * `queue` (boolean; optional): if `true`, returns stats about ???queued transactions??? sent by this account. Can only be used when querying data from the current open ledger.
    * `signer_lists` (boolean; optional): if `true`, returns any `SignerList` objects associated with this account.

### Returns

The response follows the ???standard format???, with the result containing the requested account, its data, and a ledger to which it applies, as the following fields:

  * `account_data` (object): the `AccountRoot` ledger object containing this account’s information as stored in the ledger.
  * `account_flags` (object): the account’s flag statuses, derived from the Flags field of the account. Contains the following nested fields:
    * `defaultRipple` (boolean): if `true`, the account allows ???rippling??? on its trust lines by default.
    * `depositAuth` (boolean): if `true`, the account uses ???Deposit Authorization??? and does not accept payments from unknown parties.
    * `disableMasterKey` (boolean): if `true`, the account’s ???master key pair??? is disabled.
    * `disallowIncomingCheck` (boolean): if `true`, the account does not allow others to send ???Checks??? to it.
    * `disallowIncomingNFTokenOffer` (boolean): if `true`, the account does not allow others to make ???NFT buy or sell offers??? to it.
    * `disallowIncomingPayChan` (boolean): if `true`, the account does not allow others to create ???Payment Channels??? to it.
    * `disallowIncomingTrustline` (boolean): if `true`, the account does not allow others to create ???trust lines??? to it.
    * `disallowIncomingXRP` (boolean): if `true`, the account prefers not to receive XRP from others. This setting is advisory and not enforced at the protocol level.
    * `globalFreeze` (boolean): if `true`, all tokens issued by the account are currently frozen.
    * `noFreeze` (boolean): if `true`, the account has permanently renounced the ability to freeze individual trust lines or enforce a global freeze. See ???No Freeze??? for details.
    * `passwordSpent` (boolean): if `false`, the account can send a special ???key-reset transaction?? with zero transaction cost. The protocol automatically toggles this flag; it is not user-controlled.
    * `requireAuthorization` (boolean): if `true`, the account uses ???Authorized Trust Lines??? to restrict who can hold its issued tokens.
    * `requireDestinationTag` (boolean): if `true`, the account ???requires a destination tag??? on all incoming payments.
  * `signer_lists` (array; optional):
    * API v1: omitted unless the request specified signer_lists and at least one SignerList is associated with the account. Contains an array of SignerList ledger objects for multi-signing. Since an account can own at most one SignerList, this array contains exactly one member if present. The field is nested under account_data.
    * API v2: identical to API v1, but the field is returned at the root level of the response. (Clio implements API v2 behavior in all cases.)
  * `ledger_current_index` (integer; optional): the ledger index of the current in-progress ledger used when retrieving this information. Omitted if ledger_index is provided instead.
  * `ledger_index` (integer; optional): the ledger index of the ledger version used to retrieve this information. This data does not include any changes from newer ledger versions.
  * `queue_data` (object; optional): information about ???queued transactions??? sent by this account. Returned only if queue was set to `true` and the current open ledger was queried. Describes the local rippled server’s queue state, which may differ across the network. Some fields may be omitted because certain values are computed lazily by the queuing mechanism. Contains the following nested fields:
    * `txn_count` (integer): number of queued transactions from this address.
    * `auth_change_queued` (boolean; optional): whether a transaction in the queue changes this address’s ???ways of authorizing transactions???. If `true`, no further transactions can be queued until that transaction executes or drops from the queue.
    * `lowest_sequence` (integer; optional): the lowest ???sequence number??? among transactions queued by this address.
    * `highest_sequence` (integer; optional): the highest ???sequence number??? among transactions queued by this address.
    * `max_spend_drops_total` (string; optional): the total number of ???drops of XRP??? that could be debited from this account if every queued transaction consumes the maximum possible amount.
    * `transactions` (array; optional): information about each queued transaction from this account.
  * `validated` (boolean): true if this data originates from a validated ledger version; if omitted or false, the data is not final.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_info",
      "params": [
        {
            "account": "rG1QQv2nh2gr7RCZ1P8YYcBUKCCN633jCn",
            "ledger_index": "current",
            "queue": true
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account_data": {
            "Account": "rG1QQv2nh2gr7RCZ1P8YYcBUKCCN633jCn",
            "Balance": "88986679",
            "Flags": 1048576,
            "LedgerEntryType": "AccountRoot",
            "MessageKey": "0200000000000000000000000038901D3A772963CF12FF7C0E010FE350B6CCC45D",
            "OwnerCount": 0,
            "PreviousTxnID": "083A5D87E0E10D8632A62B67CCE8C68C0E94615371E92AD591CD068DE600117A",
            "PreviousTxnLgrSeq": 99424162,
            "RegularKey": "rhLkGGNZdjSpnHJw4XAFw1Jy7PD8TqxoET",
            "Sequence": 192223,
            "index": "92FA6A9FC8EA6018D5D16532D7795C91BFB0831355BDFDA177E86C8BF997985F"
        },
        "account_flags": {
            "allowTrustLineClawback": false,
            "defaultRipple": false,
            "depositAuth": false,
            "disableMasterKey": true,
            "disallowIncomingCheck": false,
            "disallowIncomingNFTokenOffer": false,
            "disallowIncomingPayChan": false,
            "disallowIncomingTrustline": false,
            "disallowIncomingXRP": false,
            "globalFreeze": false,
            "noFreeze": false,
            "passwordSpent": false,
            "requireAuthorization": false,
            "requireDestinationTag": false
        },
        "ledger_current_index": 99672810,
        "queue_data": {
            "txn_count": 0
        },
        "status": "success",
        "validated": false
    }
}
```

---

## `account_lines`

> Retrieves info on the account's trust lines.

The `account_lines` method returns information about an account's trust lines, which contain balances in all non-XRP currencies and assets. All information retrieved is relative to a particular version of the ledger.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — address???; required): look up trust lines connected to this account, from this account’s perspective.
    * `ignore_default` (boolean; optional): if `true`, omits trust lines where this account’s side is in the default state. Default: `false`.
    * `ledger_hash` (string — ???hash; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ???ledger index??? of the ledger version to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).
    * `limit` (number; optional): limits the number of trust lines to retrieve. Must be between 10 and 400. Values outside this range are adjusted to the nearest valid option. Default: `200`.
    * `marker` (string — marker???; optional): value from a previous paginated response; resumes retrieving data where that response left off.
    * `peer` (string — address???; optional): a second account; if provided, filters results to trust lines connecting the two accounts.

### Returns

The response follows the ???standard format???, with a successful result containing the address of the account and an array of trust line objects. Specifically, the result object contains the following fields:

  * `account` (string): the unique ???address??? of the account this request corresponds to — the perspective account for the listed trust lines.
  * `lines` (array of objects): array of trust line objects associated with the specified account. If the number of trust lines is large, only returns up to the limit at a time. Each object contains the following fields:

    * `account` (string — ???address???): the counterparty to this trust line.
    * `balance` (string — number???): the current balance held on this line.
      * A positive balance indicates that the perspective account holds value.
      * A negative balance indicates that the perspective account owes value.
    * `currency` (string — ???currency code???): the currency code of the token that this trust line represents.
    * `limit` (string — ???number???): the maximum amount of the given currency that this account is willing to owe the peer account.
    * `limit_peer` (string — number???): the maximum amount of the given currency that the counterparty is willing to owe the perspective account.
    * `quality_in` (number): rate at which the account values incoming balances on this trust line, as a ratio of this value per 1 billion units. For example, a value of 500 million represents a `0.5:1` ratio. As a special case, 0 is treated as a `1:1` ratio.
    * `quality_out` (number): rate at which the account values outgoing balances on this trust line, as a ratio of this value per 1 billion units. For example, a value of 500 million represents a `0.5:1` ratio. As a special case, 0 is treated as a `1:1` ratio.
    * `no_ripple` (boolean; optional): if `true`, this account has enabled the ???No Ripple flag??? for this trust line. If `false`, the flag is disabled, but this is not considered default??? when Default Ripple is also disabled. If omitted, No Ripple is disabled and Default Ripple is enabled.
    * `no_ripple_peer` (boolean; optional): if `true`, the peer account has enabled the ???No Ripple flag??? for this trust line. If `false`, the flag is disabled, but this is not considered ???default??? when Default Ripple is also disabled. If omitted, No Ripple is disabled and Default Ripple is enabled.
    * `authorized` (boolean; optional): if true, the perspective account ???has authorized this trust line???. Default: `false`.
    * `peer_authorized` (boolean; optional): if `true`, the counterparty ???has authorized this trust line???. Default: `false`.
    * `freeze` (boolean; optional): if `true`, the perspective account ???has frozen this trust line???. Default: `false`.
    * `freeze_peer` (boolean; optional): if `true`, the counterparty ???has frozen this trust line???. Default: `false`.

  * `ledger_current_index` (integer; optional): the ???ledger index??? used when retrieving this data. Present only when using an open ledger version.
  * `ledger_index` (integer; optional): the ???ledger index??? used when retrieving this data. Present only when using a closed ledger version.
  * `ledger_hash` (string — ???hash; optional): the identifying hash of the ledger version used when retrieving this data. This field is only provided when using a closed ledger version.
  * `marker` (string — marker???; optional): server-defined value indicating pagination; pass this to the next call to resume retrieving results from where this response ended. Omitted when there are no additional pages.
  * `limit` (number; optional): the maximum number of trust lines retrieved. The server may return fewer than the specified limit even if more results are available. Default: `200`.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_lines",
      "params": [
        {
            "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
            "api_version": 2
        }
      ]
    }'
```

### Response example

```json
{
    "result": {
        "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
        "ledger_current_index": 99673270,
        "lines": [
            {
                "account": "r3vi7mWxru9rJCxETCyA1CHvzL96eZWx5z",
                "balance": "0",
                "currency": "ASP",
                "limit": "0",
                "limit_peer": "10",
                "quality_in": 0,
                "quality_out": 0
            },
            {
                "account": "rE6R3DWF9fBD7CyiQciePF9SqK58Ubp8o2",
                "balance": "0",
                "currency": "JOE",
                "limit": "0",
                "limit_peer": "100",
                "no_ripple_peer": true,
                "quality_in": 0,
                "quality_out": 0
            }
        ],
        "status": "success",
        "validated": false
    }
}
```

---

## `account_nfts`

> Retrieves a list of all NFTs for an account.

The `account_nfts` method returns a list of `NFToken` objects for the specified account.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string; required): the unique identifier of an account (typically, address???). Returns a list of NFTs owned by this account.
    * `ledger_hash` (string; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (string or number; optional): the ???ledger index??? of the ledger version to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).
    * `limit` (integer; optional): limits the number of ???token pages??? to retrieve. Each page can contain up to 32 NFTs.
      * Must be between `20` and `400`; values outside this range are adjusted to the nearest valid option.
      * Default: `100`.
    * `marker` (string — marker; optional): value from a previous paginated response; resumes retrieving data where that response left off.

### Returns

The response follows the ???standard format???, with a successful result containing the following fields:

  * `account` (string): the account that owns the list of NFTs.
  * `account_nfts` (array of objects): list of NFTs owned by the account. Each object represents one NFToken and includes the following fields:
    * `Flags` (number): a bitmap of boolean flags enabled for this NFToken. See ???NFToken Flags??? for possible values.
    * `Issuer` (string — ???address???): the account that issued this NFToken.
    * `NFTokenID` (string): the unique identifier of this NFToken, represented as a hexadecimal string.
    * `NFTokenTaxon` (number): the unscrambled version of this token’s ???taxon???. Tokens sharing the same taxon may represent multiple instances of a limited series.
    * `URI` (string): the URI data associated with this NFToken, represented in hexadecimal format.
    * `nft_serial` (number): the token sequence number of this NFToken, unique per issuer.
  * `ledger_hash` (string; optional): the identifying hash of the ledger version used to generate this response.
  * `ledger_index` (number; optional): the ledger index of the ledger version used to generate this response.
  * `ledger_current_index` (number; optional): the ledger index of the current in-progress ledger version used to generate this response.
  * `validated` (boolean): if true, the information in this response comes from a validated ledger version; otherwise, the information is subject to change.
  * `marker` (string — marker; optional): server-defined value indicating pagination. Pass this to the next call to resume fetching results from where this response ended. Omitted when there are no additional pages.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_nfts",
      "params": [
        {
          "account": "rpoYSH7mntUSWF41gD7RhJQzrNHxogAb6W"
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account": "rpoYSH7mntUSWF41gD7RhJQzrNHxogAb6W",
        "account_nfts": [],
        "ledger_current_index": 99893274,
        "status": "success",
        "validated": false
    }
}
```

---

## `account_objects`

> Retrieves all ledger objects owned by an account.

The `account_objects` command returns all ledger entries owned by an account, in their raw ???ledger format???.

There are other API methods that are specialized for getting certain types of ledger entry, such as the ???account_lines??? method for trust lines, or ???account_offers??? method for offers. These methods provide a processed view of the data that is more suitable for typical use cases. Use `account_objects` if you want to get ledger entries of types that don't have a specialized method, or if you want to get the entries in their canonical format.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — ???address???; required): retrieves ledger entries associated with this account.
    * `deletion_blockers_only` (boolean; optional): if `true`, returns only ledger entries that would prevent this account from being deleted. Default: `false`.
    * `ledger_hash` (string — ???hash???; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ???ledger index??? of the ledger version to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).
    * `limit` (number; optional): the maximum number of ledger entries to include in the results. Must be between `10` and `400` for non-admin connections. Default: `200`.
    * `marker` (string — marker; optional): value from a previous paginated response; resumes retrieving data where that response left off.
    * `type` (string; optional): filters results by a specific type of ledger entry. Accepts canonical or ???short names?? of ???ledger entry types??? (case-insensitive). Ledger entry types that cannot appear in an owner directory are not allowed. If omitted, all types are returned.

### Returns

The response follows the ???standard format???, with a successful result containing the following fields:

  * `account` (string — ???address???): the account this request corresponds to.
  * `account_objects` (array of objects): array of ledger entries found in this account’s owner directory. Includes both:
    * Entries owned directly by this account, and
    * Entries linked to this account but owned by others (for example, escrows where this account is the destination).
    * Each member is a ledger entry in its raw ???ledger format???. The number of entries may be fewer than the value specified in `limit`.
  * `ledger_hash` (string; optional): the identifying hash of the ledger used to generate this response.
  * `ledger_index` (number; optional): the ???ledger index??? of the ledger version used to generate this response.
  * `ledger_current_index` (number; optional): the ???ledger index??? of the open ledger version used to generate this response.
  * `limit` (number; optional): the limit value that was applied in this request, if specified.
  * `marker` (string — ???marker???; optional): server-defined value indicating pagination. Pass this to the next call to resume retrieving data where this response ended. Omitted when there are no additional pages.
  * `validated` (boolean; optional): if `true`, the data in this response originates from a validated ledger version; otherwise, it may be subject to change.

<Callout type="warning">
The `account_objects` array may be empty even if there are additional ledger entries to retrieve. This is especially likely when using `type` to filter ledger entry types. If the response includes a `marker` field, there are additional pages of data; if the response does not include a `marker`, then this is the end of the data. This behavior is a consequence of how the API method iterates through the account's owner directory, and a precaution against requests putting excessive load on the server.
</Callout>

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_objects",
      "params": [
        {
            "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
            "ledger_index": "validated",
            "type": "state",
            "deletion_blockers_only": false,
            "limit": 10
        }
      ]
    }'
```

### Response example

```json
{
    "result": {
        "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
        "account_objects": [
            {
                "Balance": {
                    "currency": "ASP",
                    "issuer": "rrrrrrrrrrrrrrrrrrrrBZbvji",
                    "value": "0"
                },
                "Flags": 65536,
                "HighLimit": {
                    "currency": "ASP",
                    "issuer": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
                    "value": "0"
                },
                "HighNode": "0",
                "LedgerEntryType": "RippleState",
                "LowLimit": {
                    "currency": "ASP",
                    "issuer": "r3vi7mWxru9rJCxETCyA1CHvzL96eZWx5z",
                    "value": "10"
                },
                "LowNode": "0",
                "PreviousTxnID": "BF7555B0F018E3C5E2A3FF9437A1A5092F32903BE246202F988181B9CED0D862",
                "PreviousTxnLgrSeq": 1438879,
                "index": "2243B0B630EA6F7330B654EFA53E27A7609D9484E535AB11B7F946DF3D247CE9"
            }
        ],
        "ledger_hash": "3E5A1F0602C9699922CBE7BD3846D0C22A584867FFAF9787A1C676315F0797B0",
        "ledger_index": 99893571,
        "limit": 10,
        "marker": "F60ADF645E78B69857D2E4AEC8B7742FEABC8431BD8611D099B428C3E816DF93,94A9F05FEF9A153229E2E997E64919FD75AAE2028C8153E8EBDB4440BD3ECBB5",
        "status": "success",
        "validated": true
    }
}
```

---

## `account_offers`

> Retrieves info on the account's currency exchange offers.

The `account_offers` method retrieves a list of ???offers??? made by a given ???account??? that are outstanding as of a particular ???ledger version???.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string — ???address???; required): look up Offers placed by this account.
    * `ledger_hash` (string — ???hash???; optional): the unique hash of the ledger version to use (see ???Specifying Ledgers???).
    * `ledger_index` (number or string; optional): the ???ledger index??? of the ledger version to use, or a shortcut string to choose a ledger automatically (see ???Specifying Ledgers???).
    * `limit` (number; optional): limits the number of Offers to retrieve.
      * Must be between `10` and `400`; values outside this range are replaced with the nearest valid option.
      * Default: `200`.
    * `marker` (string — ???marker???; optional): value from a previous paginated response; resumes retrieving data where that response left off.

### Returns

The response follows the ???standard format???, with a successful result containing the following fields:

  * `account` (string): the unique ???address??? identifying the account that created the offers.
  * `offers` (array of objects): list of offers made by this account that are outstanding as of the requested ledger version. If the number of offers is large, only up to the specified ???limit??? are returned per response. Each object contains the following fields:
    * `flags` (unsigned integer): bitwise flags representing options set for this offer entry.
    * `seq` (unsigned integer): the sequence number of the transaction that created this offer entry. (Transaction ???sequence numbers??? are relative to the account.)
    * `taker_gets` (string or object): the amount the offer receiver (taker) receives, expressed as either:
      * a string representing an amount in XRP, or
      * an object defining a non-XRP currency amount (see ???Specifying Currency Amounts???).
    * `taker_pays` (string or object): the amount the offer receiver (taker) provides, expressed as either:
      * a string representing an amount in XRP, or
      * an object defining a non-XRP currency amount (see ???Specifying Currency Amounts???).
    * `quality` (string): the exchange rate of the offer, calculated as the ratio of the original `taker_pays` divided by the original `taker_gets`.
      * Offers with a lower quality are more favorable and are executed first.
      * Offers with the same quality are executed in order of oldest to newest.
    * `expiration` (unsigned integer; optional): time after which this offer is considered unfunded, represented as ???seconds since the Ripple Epoch???. (See also: ???Offer Expiration???.)
  * `ledger_current_index` (number; optional): the ???ledger index?? of the current in-progress ledger version used when retrieving this data. Omitted if ledger_hash or ledger_index is provided.
  * `ledger_index` (number; optional): the ???ledger index??? of the ledger version used when retrieving this data. Omitted if ledger_current_index is provided instead.
  * `ledger_hash` (string — ???hash???; optional): the identifying hash of the ledger version used to generate this response.
  * `marker` (string — ???marker???; optional): server-defined value indicating pagination. Pass this to the next call to resume retrieving results where this response ended. Omitted when there are no additional pages.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_offers",
      "params": [
        {
            "account": "rpP2JgiMyTF5jR5hLG3xHCPi1knBb1v9cM"
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account": "rpP2JgiMyTF5jR5hLG3xHCPi1knBb1v9cM",
        "ledger_current_index": 99895001,
        "offers": [],
        "status": "success",
        "validated": false
    }
}
```

---

## `account_tx`

> Retrieves a list of transactions affecting an account.

The `account_tx` method retrieves a list of validated transactions that involve a given account.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string; required): the unique identifier of the account, typically its address.
    * `tx_type` (string; optional): (Clio only) filters results to a specific transaction type (for example "Clawback", "AccountSet", "AccountDelete"). Case-insensitive. See ???Transaction Types???. ???New in: Clio v2.0???; ???AMM support since: Clio v2.1.0???.
    * `ledger_index_min` (integer; optional): earliest ledger index to include transactions from. A value of `-1` uses the earliest validated ledger available.
    * `ledger_index_max` (integer; optional): most recent ledger index to include transactions from. A value of `-1` uses the most recent validated ledger available.
    * `ledger_hash` (string — hash; optional): specifies a single ledger by its unique hash (see ???Specifying Ledgers???).
    * `ledger_index` (string or unsigned integer; optional): specifies a single ledger by its index or a shortcut keyword (see ???Specifying Ledgers???).
    * `binary` (boolean; optional): if `true`, returns transactions as hex strings instead of JSON. Default: `false`.
    * `forward` (boolean; optional): if `true`, returns results indexed with the oldest ledger first; otherwise, the newest ledger first. Each page may not be internally ordered, but pages overall follow the chosen order. Default: `false`.
    * `limit` (integer; optional): limits the number of transactions to retrieve. The default varies depending on server configuration. The server is not required to honor this value.
    * `marker` (string — ???marker???; optional): value from a previous paginated response; resumes retrieving data where that response left off. Stable even if the server’s available ledger range changes.

**Iterating over queried data**:

As with other paginated methods, you can use the `marker` field to return multiple pages of data.

In the time between requests, `"ledger_index_min": -1` and `"ledger_index_max": -1` may change to refer to different ledger versions than they did before. The `marker` field can safely paginate even if there are changes in the ledger range from the request, so long as the marker does not indicate a point outside the range of ledgers specified in the request.

### Returns

#### API v2

  * `account` (string): Unique ???Address??? identifying the related account.
  * `ledger_index_min` (integer — ???ledger index???): The ledger index of the earliest ledger actually searched for transactions.
  * `ledger_index_max` (integer — ???ledger index???): The ledger index of the most recent ledger actually searched for transactions.
  * `limit` (integer): The `limit` value used in the request. (This may differ from the actual limit value enforced by the server.)
  * `marker` (string — ???marker???): Server-defined value indicating the response is paginated. Pass this to the next call to resume where this call left off.
  * `transactions` (array): Array of transactions matching the request's criteria, as explained below.
  * `validated` (boolean): If included and set to `true`, the information in this response comes from a validated ledger version. Otherwise, the information is subject to change.

<Callout type="tip">
The server may respond with different values of `ledger_index_min` and `ledger_index_max` than you provided in the request, for example if it did not have the versions you specified on hand.
</Callout>

Each transaction object includes the following fields, depending on whether it was requested in JSON or hex string (`"binary": true`) format:

  * `close_time_iso` (string): The ledger close time represented in ISO 8601 time format.
  * `hash` (string): The unique hash identifier of the transaction.
  * `ledger_hash` (string): A hex string of the ledger version that included this transaction.
  * `ledger_index` (integer): The ledger index of the ledger version that included this transaction.
  * `tx_json` (object — JSON): (JSON mode) JSON object defining the transaction.
  * `tx_blob` (string — binary): (Binary mode) A unique hex string defining the transaction.
  * `meta` (object — JSON): (JSON mode) The transaction results metadata in JSON.
  * `meta_blob` (string — binary): (Binary mode) The transaction results metadata as a hex string.
  * `validated` (boolean): Whether the transaction is included in a validated ledger or not. Any transaction not yet in a validated ledger is subject to change.

#### API v1

  * `account` (string): Unique ???Address??? identifying the related account.
  * `ledger_index_min` (integer — ???ledger index???): The ledger index of the earliest ledger actually searched for transactions.
  * `ledger_index_max` (integer — ???ledger index???): The ledger index of the most recent ledger actually searched for transactions.
  * `limit` (integer): The `limit` value used in the request. (This may differ from the actual limit value enforced by the server.)
  * `marker` (string — ???marker???): Server-defined value indicating the response is paginated. Pass this to the next call to resume where this call left off.
  * `transactions` (array): Array of transactions matching the request's criteria, as explained below.
  * `validated` (boolean): If included and set to `true`, the information in this response comes from a validated ledger version. Otherwise, the information is subject to change.

<Callout type="tip">
The server may respond with different values of `ledger_index_min` and `ledger_index_max` than you provided in the request, for example if it did not have the versions you specified on hand.
</Callout>

Each transaction object includes the following fields, depending on whether it was requested in JSON or hex string (`"binary": true`) format.

  * `ledger_index` (integer): The ledger index of the ledger version that included this transaction.
  * `tx` (object — JSON): (JSON mode) JSON object defining the transaction.
  * `tx_blob` (string — binary): (Binary mode) Hex string representing the transaction.
  * `meta` (object — JSON or string — binary): If `binary` is `true`, then this is a hex string of the transaction results metadata. Otherwise, the transaction results metadata is included in JSON format.
  * `validated` (boolean): Whether the transaction is included in a validated ledger or not. Any transaction not yet in a validated ledger is subject to change.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "account_tx",
      "params": [
        {
            "account": "rLNaPoKeeBjZe2qs6x52yVPZpZ8td4dc6w",
            "binary": false,
            "forward": false,
            "ledger_index_max": -1,
            "ledger_index_min": -1,
            "limit": 2,
            "api_version": 2
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account": "rLNaPoKeeBjZe2qs6x52yVPZpZ8td4dc6w",
        "ledger_index_max": 100184671,
        "ledger_index_min": 99766025,
        "limit": 2,
        "status": "success",
        "transactions": [],
        "validated": true
    }
}
```

---

## `gateway_balances`

> Calculates total amounts issued by an account.

The `gateway_balances` method calculates the total balances issued by a given account, optionally excluding amounts held by [operational addresses](https://xrpl.org/docs/concepts/accounts/account-types).

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string): The [Address](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#addresses) to check. This should be the [issuing address](https://xrpl.org/docs/concepts/accounts/account-types).
    * `strict` (boolean; optional): If `true`, only accept an address or public key for the account parameter. Defaults to `false`.
    * `hotwallet` (string or array; optional): An [operational address](https://xrpl.org/docs/concepts/accounts/account-types) to exclude from the balances issued, or an array of such addresses.
    * `ledger_hash` (string; optional): The unique hash of the ledger version to use. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers).)
    * `ledger_index` (string or unsigned integer; optional): The ledger index of the ledger version to use, or a shortcut string to choose a ledger automatically. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers).)

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing the following fields:

  * `account` (string — [address](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#addresses)): The address of the account that issued the balances.
  * `obligations` (object; omitted if empty): Total amounts issued to addresses not excluded, as a map of currencies to the total value issued.
  * `balances` (object; omitted if empty): Amounts issued to the `hotwallet` addresses from the request. The keys are addresses and the values are arrays of currency amounts they hold.
  * `assets` (object; omitted if empty): Total amounts held that are issued by others. In the recommended configuration, the [issuing address](https://xrpl.org/docs/concepts/accounts/account-types) should have none.
  * `ledger_hash` (string — [hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes); optional): The identifying hash of the ledger version that was used to generate this response.
  * `ledger_index` (number — [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index); optional): The ledger index of the ledger version that was used to generate this response.
  * `ledger_current_index` (number — [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index); optional): (Omitted if `ledger_current_index` is provided). The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of the current in-progress ledger version, which was used to retrieve this information.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "gateway_balances",
      "params": [
        {
            "account": "rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",
            "hotwallet": [
                "rKm4uWpg9tfwbVSeATv4KxDe6mpE9yPkgJ",
                "ra7JkEzrgeKHdzKgo4EUUVBnxggY4z37kt"
            ],
            "ledger_index": "validated",
            "strict": true
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "account": "rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",
        "assets": {
            "r9F6wk8HkXrgYWoJ7fsv4VrUBVoqDVtzkH": [
                {
                    "currency": "BTC",
                    "value": "5444166510000000e-26"
                }
            ],
            "rPU6VbckqCLW4kb51CWqZdxvYyQrQVsnSj": [
                {
                    "currency": "BTC",
                    "value": "1029900000000000e-26"
                }
            ],
            "rpR95n1iFkTqpoy1e878f4Z1pVHVtWKMNQ": [
                {
                    "currency": "BTC",
                    "value": "4000000000000000e-30"
                }
            ],
            "rwmUaXsWtXU4Z843xSYwgt1is97bgY8yj6": [
                {
                    "currency": "BTC",
                    "value": "8700000000000000e-30"
                }
            ]
        },
        "balances": {
            "rKm4uWpg9tfwbVSeATv4KxDe6mpE9yPkgJ": [
                {
                    "currency": "EUR",
                    "value": "144816.1965999999"
                }
            ],
            "ra7JkEzrgeKHdzKgo4EUUVBnxggY4z37kt": [
                {
                    "currency": "USD",
                    "value": "6677.38614"
                }
            ]
        },
        "frozen_balances": {
            "r4keXr5myiU4iTLh68ZqZ2CgsJ8dM9FSW6": [
                {
                    "currency": "BTC",
                    "value": "0.091207822800868"
                }
            ]
        },
        "ledger_hash": "9F04F45FC6A7B4BE8DA04580F7E4E23DCCE58A9FD73178296CA70319C5B799F1",
        "ledger_index": 100185180,
        "obligations": {
            "BTC": "1761.964986208178",
            "EUR": "813788.3511514511",
            "GBP": "4973.797603049582",
            "USD": "6734902.401181124"
        },
        "status": "success",
        "validated": true
    }
}
```

---

## `noripple_check`

> Gets recommended changes to an account's Default Ripple and No Ripple settings.

The `noripple_check` command provides a quick way to check the status of [the Default Ripple field for an account and the No Ripple flag of its trust lines](https://xrpl.org/docs/concepts/tokens/fungible-tokens/rippling), compared with the recommended settings.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `account` (string): A unique identifier for the account, most commonly the account's address.
    * `role` (string): Whether the address refers to a `gateway` or `user`. Recommendations depend on the role of the account. Issuers must have Default Ripple enabled and must disable No Ripple on all trust lines. Users should have Default Ripple disabled, and should enable No Ripple on all trust lines.
    * `transactions` (boolean; optional): If `true`, include an array of suggested [transactions](https://xrpl.org/docs/references/protocol/transactions), as JSON objects, that you can sign and submit to fix the problems. The default is `false`.
    * `limit` (unsigned integer; optional): The maximum number of trust line problems to include in the results. Defaults to 300.
    * `ledger_hash` (string; optional): The unique hash of the ledger version to use. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers).)
    * `ledger_index` (string or unsigned integer; optional): The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of the ledger to use, or a shortcut string to choose a ledger automatically. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers).)

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing the following fields:

  * `ledger_current_index` (number): The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of the ledger used to calculate these results.
  * `problems` (array): Array of strings with human-readable descriptions of the problems. This includes up to one entry if the account's Default Ripple setting is not as recommended, plus up to `limit` entries for trust lines whose No Ripple setting is not as recommended.
  * `transactions` (array; optional): If the request specified `transactions` as `true`, this is an array of JSON objects, each of which is the JSON form of a [transaction](https://xrpl.org/docs/references/protocol/transactions) that should fix one of the described problems. The length of this array is the same as the `problems` array, and each entry is intended to fix the problem described at the same index into that array.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "noripple_check",
      "params": [
        {
            "account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
            "ledger_index": "current",
            "limit": 2,
            "role": "gateway",
            "transactions": true
        }
      ]
    }'
```

### Response example

```json
{
    "result": {
        "ledger_current_index": 100203014,
        "problems": [
            "You should immediately set your default ripple flag",
            "You should clear the no ripple flag on your USD line to rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",
            "You should clear the no ripple flag on your EUR line to rLEsXccBGNR3UPuPu2hUXPjziKC3qKSBun",
            "You should clear the no ripple flag on your CNY line to rnuF96W4SZoCJmbHYBFoJZpR8eCaxNvekK",
            "You should clear the no ripple flag on your XAU line to r3vi7mWxru9rJCxETCyA1CHvzL96eZWx5z",
            "You should clear the no ripple flag on your 015841551A748AD2C1F76FF6ECB0CCCD00000000 line to rs9M85karFkCRjvc6KMWn8Coigm9cbcgcx",
            "You should clear the no ripple flag on your AUX line to r3vi7mWxru9rJCxETCyA1CHvzL96eZWx5z",
            "You should clear the no ripple flag on your CNY line to razqQKzJRdB4UxFPWf5NEpEG3WMkmwgcXA",
            "You should clear the no ripple flag on your JPY line to rvYAfWj5gh67oV6fW32ZzP3Aw4Eubs59B",
            "You should clear the no ripple flag on your USD line to rfF3PNkwkq1DygW2wum2HK3RGfgkJjdPVD",
            "You should clear the no ripple flag on your USD line to r9vbV3EHvXWjSkeQ6CAcYVPGeq7TuiXY2X"
        ],
        "status": "success",
        "transactions": [
            {
                "Account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
                "Fee": 10,
                "Sequence": 1406,
                "SetFlag": 8,
                "TransactionType": "AccountSet"
            },
            {
                "Account": "r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59",
                "Fee": 10,
                "Flags": 262144,
                "LimitAmount": {
                    "currency": "USD",
                    "issuer": "rMwjYedjc7qqtKYVLiAccJSmCwih4LnE2q",
                    "value": "5"
                },
                "Sequence": 1407,
                "TransactionType": "TrustSet"
            }
        ],
        "validated": false
    }
}
```

---

**Ledger Methods**:

A ledger version contains a header, a transaction tree, and a state tree, which contain account settings, trustlines, balances, transactions, and other data. Use these methods to retrieve ledger info.

## `ledger`

> Retrieves info on the ledger.

Retrieves information about the public [ledger](https://xrpl.org/docs/concepts/ledgers).

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `ledger_hash` (string — [hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes); optional): A 32-byte hex string for the ledger version to use. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers)).
    * `ledger_index` (number or string; optional): The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of the ledger to use, or a shortcut string to choose a ledger automatically. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers)).
    * `transactions` (boolean; optional): If `true`, return information on transactions in the specified ledger version. The default is `false`. Ignored if you did not specify a ledger version.
    * `expand` (boolean; optional): Provide full JSON-formatted information for transaction/account information instead of only hashes. The default is `false`. Ignored unless you request transactions, accounts, or both.
    * `owner_funds` (boolean; optional): If `true`, include `owner_funds` field in the metadata of OfferCreate transactions in the response. The default is `false`. Ignored unless transactions are included and `expand` is `true`.
    * `binary` (boolean; optional): If `true`, and `transactions` and `expand` are both also `true`, return transaction information in binary format (hexadecimal string) instead of JSON format.
    * `queue` (boolean; optional): If `true`, and the command is requesting the `current` ledger, includes an array of [queued transactions](https://xrpl.org/docs/concepts/transactions/transaction-cost#queued-transactions) in the results.

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing information about the ledger, including the following fields:

  * `ledger` (object): The complete [ledger header data](https://xrpl.org/docs/references/protocol/ledger-data/ledger-header) of this ledger, with some additional fields added for convenience.
  * `ledger.account_hash` (string): [Hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes) of all account state information in this ledger, as hexadecimal.
  * `ledger.close_flags` (number): A bit-map of [flags relating to the closing of this ledger](https://xrpl.org/docs/references/protocol/ledger-data/ledger-header#close-flags).
  * `ledger.close_time` (number): The time this ledger was closed, in [seconds since the Ripple Epoch](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-time).
  * `ledger.close_time_human` (string): The time this ledger was closed, in human-readable format. Always uses the UTC time zone.
  * `ledger.close_time_resolution` (number): Ledger close times are rounded to within this many seconds.
  * `ledger.closed` (boolean): Whether this ledger has been closed or not.
  * `ledger.ledger_hash` (string): Unique identifying hash of the entire ledger.
  * `ledger.ledger_index` (string — [API v1](https://xrpl.org/docs/references/http-websocket-apis#api-versioning); number — [API v2](https://xrpl.org/docs/references/http-websocket-apis#api-versioning)): The [Ledger Index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of this ledger.
  * `ledger.parent_close_time` (number): The time at which the previous ledger was closed.
  * `ledger.parent_hash` (string): The unique identifying hash of the ledger that came immediately before this one, as hexadecimal.
  * `ledger.total_coins` (string): Total number of XRP drops in the network, as a quoted integer. (This decreases as transaction costs destroy XRP.)
  * `ledger.transaction_hash` (string): [Hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes) of the transaction information included in this ledger.
  * `ledger.transactions` (array; optional): Transactions applied in this ledger version. By default, members are the transactions’ identifying [Hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes) strings. If the request specified `expand` as `true`, members are full representations of the transactions instead, in either JSON or binary depending on whether the request specified `binary` as `true`.
  * `ledger_hash` (string): The unique identifying hash of the entire ledger, as hexadecimal.
  * `ledger_index` (number): The [Ledger Index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of this ledger.
  * `validated` (boolean; optional): If `true`, this is a validated ledger version. If omitted or set to `false`, this ledger’s data is not final.
  * `queue_data` (array; optional): (Omitted unless requested with the `queue` parameter) Array of objects describing queued transactions, in the same order as the queue. If the request specified `expand` as `true`, members contain full representations of the transactions, in either JSON or binary depending on whether the request specified `binary` as `true`.

Each member of the `queue_data` array represents one transaction in the queue. Some fields of this object may be omitted because they have not yet been calculated. The fields of this object are as follows:

  * `account` (string): The [Address](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#addresses) of the sender for this queued transaction.
  * `tx` (string or object): By default, this is a string containing the identifying hash of the transaction. If transactions are expanded in binary format, this is an object whose only field is `tx_blob`, containing the binary form of the transaction as a decimal string. If transactions are expanded in JSON format, this is an object containing the transaction object including the transaction's identifying hash in the `hash` field.
  * `retries_remaining` (number): How many times this transaction can be retried before being dropped.
  * `preflight_result` (string): The tentative result from preliminary transaction checking. This is always `tesSUCCESS`.
  * `last_result` (string; optional): If this transaction was left in the queue after getting a [retriable (`ter`) result](https://xrpl.org/docs/references/protocol/transactions/transaction-results/ter-codes), this is the exact `ter` result code it got.
  * `auth_change` (boolean; optional): Whether this transaction changes this address's [ways of authorizing transactions](https://xrpl.org/docs/concepts/transactions#authorizing-transactions).
  * `fee` (string; optional): The [Transaction Cost](https://xrpl.org/docs/concepts/transactions/transaction-cost) of this transaction, in [drops of XRP](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-currency-amounts).
  * `fee_level` (string; optional): The transaction cost of this transaction, relative to the minimum cost for this type of transaction, in fee levels.
  * `max_spend_drops` (string; optional): The maximum amount of [XRP, in drops](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-currency-amounts), this transaction could potentially send or destroy.

If the request specified `"owner_funds": true` and expanded transactions, the response has a field `owner_funds` in the `metaData` object of each [OfferCreate transaction](https://xrpl.org/docs/references/protocol/transactions/types/offercreate). The purpose of this field is to make it easier to track the [funding status of offers](https://xrpl.org/docs/concepts/tokens/decentralized-exchange/offers#lifecycle-of-an-offer) with each new validated ledger. This field is defined slightly differently than the version of this field in [Order Book subscription streams](https://xrpl.org/docs/references/http-websocket-apis/public-api-methods/subscription-methods/subscribe#order-book-streams):

  * `owner_funds` (string): Numeric amount of the `TakerGets` currency that the `Account` sending this OfferCreate transaction has after the execution of all transactions in this ledger. This does not check whether the currency amount is [frozen](https://xrpl.org/docs/concepts/tokens/fungible-tokens/freezes).

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "ledger",
      "params": [
        {
            "ledger_index": "validated",
            "transactions": false,
            "expand": false,
            "owner_funds": false
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "ledger": {
            "account_hash": "E8C6EF996B38EFC2E297B3165F6B687433B1DF137BDCF804C0B0F9E393E0D045",
            "close_flags": 0,
            "close_time": 816442750,
            "close_time_human": "2025-Nov-14 13:39:10.000000000 UTC",
            "close_time_iso": "2025-11-14T13:39:10Z",
            "close_time_resolution": 10,
            "closed": true,
            "ledger_hash": "344AC8FCFC579E9EAC59CAFEBCC1E2EA36A261F4EB2A6CC649380C351F402397",
            "ledger_index": "100204822",
            "parent_close_time": 816442741,
            "parent_hash": "ADA5D8A5A554881A9E45A8EC88FBDADD5D4D47213F0FFBCE23001AD7E37B5768",
            "total_coins": "99985759346884737",
            "transaction_hash": "03E26EC74BFBEEFEBD19FD512A16809C1A165B1A2F9CFF4BFD987994FCA60334"
        },
        "ledger_hash": "344AC8FCFC579E9EAC59CAFEBCC1E2EA36A261F4EB2A6CC649380C351F402397",
        "ledger_index": 100204822,
        "status": "success",
        "validated": true
    }
}
```

---

## `ledger_closed`

> Retrieves the latest closed ledger version.

The `ledger_closed` method returns the unique identifiers of the most recently closed ledger. (This ledger is not necessarily validated and immutable yet.)

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required): none.

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing the following fields:

  * `ledger_hash` (string): The unique [Hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes) of this ledger version, in hexadecimal.
  * `ledger_index` (unsigned integer): The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of this ledger version.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "ledger_closed",
      "params": [
        {}
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "ledger_hash": "3E6CF37B032E232ED6D77900C937647A275C8FE1F9F784F361B1022BB4608172",
        "ledger_index": 100204931,
        "status": "success"
    }
}
```

---

## `ledger_current`

> Retrieves the current working ledger version.

The `ledger_current` method returns the unique identifiers of the current in-progress [ledger](https://xrpl.org/docs/concepts/ledgers). This command is mostly useful for testing, because the ledger returned is still in flux.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required): none.

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing the following field:

  * `ledger_current_index` (unsigned integer — [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index)): The ledger index of this ledger version.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "ledger_current",
      "params": [
        {}
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "ledger_current_index": 100205074,
        "status": "success"
    }
}
```

---

## `ledger_data`

> Retrieves the raw contents of a ledger version.

The `ledger_data` method retrieves contents of the specified ledger. You can iterate through several calls to retrieve the entire contents of a single ledger version.

### Parameters

  * `id` (integer; required): a request ID (example: 1).
  * `jsonrpc` (string; required): a JSON RPC spec used (example: 2.0).
  * `method` (string; required): a method used for the request.
  * `params` (array; required):

    * `ledger_hash` (string — [hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes); optional): A 20-byte hex string identifying the ledger version to use.
    * `ledger_index` (number or string; optional): The [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index) of the ledger to use, or a shortcut string to choose a ledger automatically. (See [Specifying Ledgers](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#specifying-ledgers).)
    * `binary` (boolean; optional): If `true`, return ledger entries as hexadecimal strings instead of JSON. The default is `false`.
    * `limit` (number; optional): Limit the number of ledger entries to retrieve. The server may return fewer than this number of entries. Cannot be more than 2048 (when requesting binary) or 256 (when requesting JSON). Positive values outside this range are replaced with the closest valid option. The default is the maximum.
    * `marker` (string — [marker](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/markers-and-pagination); optional): Value from a previous paginated response. Resume retrieving data where that response left off.
    * `type` (string; optional): Filter results to a specific type of ledger entry. This field accepts canonical names of [ledger entry types](https://xrpl.org/docs/references/protocol/ledger-data/ledger-entry-types) (case-insensitive) or [short names](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/ledger-entry-short-names). If omitted, return ledger entries of all types.

### Returns

The response follows the [standard format](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/response-formatting), with a successful result containing the following fields:

  * `ledger_index` (unsigned integer — [ledger index](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#ledger-index)): The ledger index of this ledger version.
  * `ledger_hash` (string — [hash](https://xrpl.org/docs/references/protocol/data-types/basic-data-types#hashes)): Unique identifying hash of this ledger version.
  * `state` (array): Array of JSON objects containing data from the ledger's state tree, as defined below.
  * `marker` (string — [marker](https://xrpl.org/docs/references/http-websocket-apis/api-conventions/markers-and-pagination)): Server-defined value indicating the response is paginated. Pass this to the next call to resume where this call left off.

If a `type` field is mentioned in the request, the `state` array will be empty if the first set of array objects does not match the type requested. In such cases, you can use the `marker` from this response to paginate and retrieve further data.

The format of each object in the `state` array depends on whether `binary` was set to true or not in the request. Each `state` object may include the following fields:

  * `data` (string): (Only included if `"binary": true`) Hex representation of the requested data.
  * `LedgerEntryType` (string): (Only included if `"binary": false`) String indicating what type of ledger object this object represents. See [ledger object types](https://xrpl.org/docs/references/protocol/ledger-data/ledger-entry-types) for the full list.
  * **(Additional fields)** (various): (Only included if `"binary": false`) Additional fields describing this object, depending on which [ledger object type](https://xrpl.org/docs/references/protocol/ledger-data/ledger-entry-types) it is.
  * `index` (string): Unique identifier for this ledger entry, as hex.

### Request example

```shell
curl 'https://rpc.ankr.com/xrp_mainnet/e65149e943f9f3a07d76cc87e6a90883e851ef94ac96c5e063c305f8dbe76d29' \
-d '{
      "jsonrpc": "2.0",
      "id": 1,
      "method": "ledger_data",
      "params": [
        {
            "binary": true,
            "ledger_hash": "842B57C1CC0613299A686D3E9F310EC0422C84D3911E5056389AA7E5808A93C8",
            "limit": 5
        }
      ]
    }'
```

### Response example

```json
{
    "id": 1,
    "jsonrpc": "2.0",
    "result": {
        "error": "lgrNotFound",
        "error_code": 21,
        "error_message": "ledgerNotFound",
        "request": {
            "binary": true,
            "command": "ledger_data",
            "ledger_hash": "842B57C1CC0613299A686D3E9F310EC0422C84D3911E5056389AA7E5808A93C8",
            "limit": 5
        },
        "status": "error"
    }
}
```

---

## `ledger_entry`

> Retrieves a single item from a ledger version.

The `ledger_entry` method returns a single ledger entry from the XRP Ledger in its raw format. See [ledger format](https://xrpl.org/docs/references/protocol/ledger-data/ledger-entry-types) for information on the different types of entries you can retrieve.






























